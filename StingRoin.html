<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025çŒ«é¼ å¤§æˆ˜</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, #4cc9f0, #4361ee);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .subtitle {
            color: #b8c1ec;
            font-size: 1.1rem;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            background: rgba(255, 255, 255, 0.05);
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .date-display-container {
            text-align: center;
            margin-bottom: 10px;
        }
        
        .date-display {
            font-size: 1.8rem;
            font-weight: bold;
            color: #4cc9f0;
        }
        
        .zoom-controls, .navigation-controls {
            display: flex;
            gap: 10px;
        }
        
        button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        button:hover {
            background: rgba(67, 97, 238, 0.5);
            transform: translateY(-2px);
        }
        
        .time-axis-container {
            position: relative;
            padding: 15px 0;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .time-axis-wrapper {
            overflow-x: auto;
            padding-bottom: 10px;
        }
        
        .time-axis {
            display: flex;
            height: 100px;
            position: relative;
            min-width: 7300px;
        }
        
        .day-mark {
            width: 2px;
            height: 20px;
            background: rgba(255, 255, 255, 0.3);
            position: absolute;
            bottom: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .day-date {
            position: absolute;
            bottom: 0;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.7rem;
            text-align: center;
            width: 20px;
            left: -10px;
            transform: translateX(-50%);
            pointer-events: none;
            transition: color 0.2s;
        }
        
        .day-mark:hover + .day-date {
            color: #4cc9f0;
            font-weight: bold;
        }
        
        .day-mark:hover {
            height: 30px;
            background: #4cc9f0;
        }
        
        .day-mark.current-day {
            height: 40px;
            background: #4361ee;
            z-index: 2;
        }
        
        .day-mark.selected {
            height: 50px;
            background: #4cc9f0;
            z-index: 3;
        }
        
        .month-label {
            position: absolute;
            bottom: 50px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
            font-weight: bold;
            text-align: center;
            width: 60px;
            left: -30px;
        }
        

        
        .details-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 15px;
        }
        
        .detail-box {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #4361ee;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .detail-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #4cc9f0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .detail-content {
            line-height: 1.6;
            color: #b8c1ec;
        }
        

        
        .day-info {
            position: absolute;
            top: -40px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 10;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: #b8c1ec;
        }
        
        .legend-color {
            width: 20px;
            height: 3px;
        }
        
        .current-day-color {
            background-color: #f72585;
        }
        
        .selected-day-color {
            background-color: #4cc9f0;
        }
        
        .normal-day-color {
            background-color: rgba(255, 255, 255, 0.3);
        }
        
        .detail-media {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }
        
        .detail-text {
            flex: 1;
        }
        
        .detail-image {
            width: 150px;
            height: 100px;
            object-fit: cover;
            border-radius: 5px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .detail-image:hover {
            transform: scale(1.05);
        }
        
        .image-gallery {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .gallery-image {
            width: 80px;
            height: 60px;
            object-fit: cover;
            border-radius: 3px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .gallery-image:hover {
            transform: scale(1.1);
        }
        
        @media (max-width: 600px) {
            .detail-media {
                flex-direction: column;
            }
            .detail-image {
                width: 100%;
                height: auto;
            }
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #b8c1ec;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-timeline"></i> 2025çŒ«é¼ å¤§æˆ˜</h1>
            <p class="subtitle">åˆ¶ä½œäºº | é¼ </p>
        </header>
        
        <div class="controls">
            <div class="navigation-controls">
                <button id="todayBtn"><i class="fas fa-calendar-day"></i> é‡æ–°æ¸©ä¹ </button>
                <button id="prevDayBtn"><i class="fas fa-chevron-left"></i> ä¸Šä¸€å¤©</button>
                <button id="nextDayBtn">ä¸‹ä¸€å¤© <i class="fas fa-chevron-right"></i></button>
            </div>
            
            <div class="zoom-controls">
                <button id="zoomOutBtn"><i class="fas fa-search-minus"></i> ä¸è®¸ç¼©å°</button>
                <button id="zoomInBtn"><i class="fas fa-search-plus"></i> ä¸è®¸æ”¾å¤§</button>
            </div>
        </div>
        
        <div class="date-display-container">
            <div class="date-display" id="selectedDate">2025å¹´1æœˆ1æ—¥ æ˜ŸæœŸä¸‰</div>
        </div>
        
        <div class="time-axis-container">
            <div class="time-axis-wrapper" id="timeAxisWrapper">
                <div class="time-axis" id="timeAxis"></div>
            </div>
        </div>
        
        <div class="details-container">
            <div class="detail-box" id="topDetail">
                <h3 class="detail-title"><i class="fas fa-cat"></i> çŒ«çŒ«çš„æ¯›</h3>
                <div class="detail-content">
                    <p>å‘¸å‘¸å‘¸ä¸€å˜´æ¯›</p>
                </div>
            </div>
        </div>
        
        <div class="details-container">
            <div class="detail-box" id="bottomDetail">
                <h3 class="detail-title"> ğŸ­é¼ é¼ åºŸæ–™</h3>
                <div class="detail-content">
                    <p>æ€ä¹ˆå…¨æ˜¯é»„å“’ï¼ï¼</p>
                </div>
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color selected-day-color"></div>
                <span>é€‰ä¸­æ—¥æœŸ</span>
            </div>
            <div class="legend-item">
                <div class="legend-color normal-day-color"></div>
                <span>æ™®é€šæ—¥æœŸ</span>
            </div>
        </div>
        
        <footer>
            <p>Â© 2025 çŒ«é¼ å¤§æˆ˜ | çŒ«çŒ«é¼ é¼ ä¸€å®¶äº²</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // å¸¸é‡å®šä¹‰
            const YEAR = 2025;
            const DAY_WIDTH = 20;
            const MONTHS = [
                'ä¸€æœˆ', 'äºŒæœˆ', 'ä¸‰æœˆ', 'å››æœˆ', 'äº”æœˆ', 'å…­æœˆ',
                'ä¸ƒæœˆ', 'å…«æœˆ', 'ä¹æœˆ', 'åæœˆ', 'åä¸€æœˆ', 'åäºŒæœˆ'
            ];
            const WEEKDAYS = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
            const DAYS_IN_YEAR = 365; // 2025å¹´ä¸æ˜¯é—°å¹´
            
            // DOMå…ƒç´ 
            const timeAxis = document.getElementById('timeAxis');
            const timeAxisWrapper = document.getElementById('timeAxisWrapper');
            const selectedDateDisplay = document.getElementById('selectedDate');
            const topDetail = document.getElementById('topDetail').querySelector('.detail-content');
            const bottomDetail = document.getElementById('bottomDetail').querySelector('.detail-content');
            const todayBtn = document.getElementById('todayBtn');
            const prevDayBtn = document.getElementById('prevDayBtn');
            const nextDayBtn = document.getElementById('nextDayBtn');
            const zoomInBtn = document.getElementById('zoomInBtn');
            const zoomOutBtn = document.getElementById('zoomOutBtn');
            
            // çŠ¶æ€å˜é‡
            let selectedDay = 0;
            let zoomLevel = 1;
            
            // åˆå§‹åŒ–æ—¶é—´è½´
            function initTimeline() {
                timeAxis.innerHTML = '';
                
                for (let i = 0; i < DAYS_IN_YEAR; i++) {
                    const dayMark = document.createElement('div');
                    dayMark.className = 'day-mark';
                    dayMark.dataset.day = i;
                    dayMark.style.left = `${i * DAY_WIDTH}px`;
                    
                    const date = new Date(YEAR, 0, i + 1);
                    const month = date.getMonth();
                    const day = date.getDate();
                    
                    // æ·»åŠ æœˆä»½æ ‡ç­¾
                    if (day === 1) {
                        const monthLabel = document.createElement('div');
                        monthLabel.className = 'month-label';
                        monthLabel.textContent = MONTHS[month];
                        monthLabel.style.left = `${i * DAY_WIDTH}px`;
                        timeAxis.appendChild(monthLabel);
                    }
                    
                    // æ—¥æœŸä¿¡æ¯æç¤º
                    const dayInfo = document.createElement('div');
                    dayInfo.className = 'day-info';
                    dayInfo.id = `day-info-${i}`;
                    dayInfo.textContent = `${month + 1}æœˆ${day}æ—¥ æ˜ŸæœŸ${WEEKDAYS[date.getDay()]}`;
                    dayInfo.style.left = `${i * DAY_WIDTH}px`;
                    timeAxis.appendChild(dayInfo);
                    
                    // äº¤äº’äº‹ä»¶
                    dayMark.addEventListener('click', function(e) {
                        e.stopPropagation();
                        selectDay(i);
                    });
                    
                    dayMark.addEventListener('mouseenter', function() {
                        document.getElementById(`day-info-${i}`).style.opacity = '1';
                    });
                    
                    dayMark.addEventListener('mouseleave', function() {
                        document.getElementById(`day-info-${i}`).style.opacity = '0';
                    });
                    
                    // æ·»åŠ æ—¥æœŸæ ‡ç­¾
                    const dayDate = document.createElement('div');
                    dayDate.className = 'day-date';
                    dayDate.textContent = day;
                    dayDate.style.left = `${i * DAY_WIDTH}px`;
                    timeAxis.appendChild(dayDate);
                    
                    timeAxis.appendChild(dayMark);
                }
                
                // è®¾ç½®æ—¶é—´è½´æ€»å®½åº¦
                timeAxis.style.width = `${DAYS_IN_YEAR * DAY_WIDTH}px`;
                
                // åˆå§‹é€‰æ‹©ç¬¬ä¸€å¤©
                selectDay(0);
            }
            
            // é€‰æ‹©æ—¥æœŸ
            function selectDay(dayIndex) {
                // æ›´æ–°é€‰ä¸­çŠ¶æ€
                document.querySelector('.day-mark.selected')?.classList.remove('selected');
                document.querySelector(`.day-mark[data-day="${dayIndex}"]`)?.classList.add('selected');
                
                selectedDay = dayIndex;
                updateDateDisplay();
                scrollToDay(dayIndex);
            }
            
            // æ›´æ–°æ—¶é—´è½´æŒ‡é’ˆ

            
            // æ›´æ–°æ—¥æœŸæ˜¾ç¤º
            function updateDateDisplay() {
                const date = new Date(YEAR, 0, selectedDay + 1);
                const month = date.getMonth() + 1;
                const day = date.getDate();
                const weekday = WEEKDAYS[date.getDay()];
                const dayOfYear = selectedDay + 1;
                const progress = ((dayOfYear / DAYS_IN_YEAR) * 100).toFixed(1);
                
                // æ›´æ–°æ—¥æœŸæ˜¾ç¤º
                selectedDateDisplay.textContent = `${YEAR}å¹´${month}æœˆ${day}æ—¥ æ˜ŸæœŸ${weekday}`;
                
                // æ›´æ–°è¯¦æƒ…ä¿¡æ¯
                updateDetailInfo(date, dayOfYear);
            }
            
            // æ›´æ–°è¯¦æƒ…ä¿¡æ¯
            function updateDetailInfo(date, dayOfYear) {
                const month = date.getMonth() + 1;
                const day = date.getDate();
                const weekday = WEEKDAYS[date.getDay()];
                const quarter = Math.floor((month - 1) / 3) + 1;
                const isWeekend = weekday === 'å…­' || weekday === 'æ—¥';
                
                // é¡¶éƒ¨è¯¦æƒ…ï¼ˆå›¾æ–‡æ··æ’ï¼‰
                topDetail.innerHTML = `
                    <h4>${YEAR}å¹´${month}æœˆ${day}æ—¥ æ˜ŸæœŸ${weekday}</h4>
                    <p>è¿™æ˜¯2025å¹´çš„ç¬¬ <strong>${dayOfYear}</strong> å¤© | å…¨å¹´è¿›åº¦: <strong>${((dayOfYear / DAYS_IN_YEAR) * 100).toFixed(1)}%</strong></p>
                    
                    <div class="detail-media">
                        
                        <img src="images/timeline-${dayOfYear}.jpg" onerror="this.src='https://picsum.photos/300/200?random=${dayOfYear}'" class="detail-image" alt="æ—¥æœŸå›¾ç‰‡" title="ç‚¹å‡»æŸ¥çœ‹å¤§å›¾">
                    </div>
                `;
                
                // åº•éƒ¨è¯¦æƒ…ï¼ˆå›¾æ–‡æ··æ’ï¼‰
                bottomDetail.innerHTML = `
                    <h4>è¯¦ç»†ä¿¡æ¯</h4>
                    <div class="detail-media">
                        <img src="images/nature-${dayOfYear}.jpg" onerror="this.src='https://picsum.photos/300/200?nature=${dayOfYear}'" class="detail-image" alt="è‡ªç„¶å›¾ç‰‡" title="ç‚¹å‡»æŸ¥çœ‹å¤§å›¾">
                        <div class="detail-text">
                            <p><i class="fas fa-star"></i> æ˜Ÿåº§: ${getZodiacSign(month, day)}</p>
                            <p><i class="fas fa-calendar-star"></i> ${getImportantDateInfo(month, day, dayOfYear)}</p>
                            <p><i class="fas fa-list-check"></i> ä»Šæ—¥äº‹ä»¶: ${generateEventsForDate(month, day, weekday)}</p>
                        </div>
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <p><i class="fas fa-info-circle"></i> ${getDayDescription(month, day)}</p>
                        <div class="image-gallery">
                            ${generateImageGallery(month, day, dayOfYear)}
                        </div>
                    </div>
                `;
            }
            
            // è¾…åŠ©å‡½æ•°
            function getLunarDate(month, day) {
                const lunarMonths = ['æ­£æœˆ', 'äºŒæœˆ', 'ä¸‰æœˆ', 'å››æœˆ', 'äº”æœˆ', 'å…­æœˆ', 
                                   'ä¸ƒæœˆ', 'å…«æœˆ', 'ä¹æœˆ', 'åæœˆ', 'å†¬æœˆ', 'è…Šæœˆ'];
                const lunarDays = ['åˆä¸€', 'åˆäºŒ', 'åˆä¸‰', 'åˆå››', 'åˆäº”', 'åˆå…­', 'åˆä¸ƒ', 'åˆå…«', 'åˆä¹', 'åˆå',
                                  'åä¸€', 'åäºŒ', 'åä¸‰', 'åå››', 'åäº”', 'åå…­', 'åä¸ƒ', 'åå…«', 'åä¹', 'äºŒå',
                                  'å»¿ä¸€', 'å»¿äºŒ', 'å»¿ä¸‰', 'å»¿å››', 'å»¿äº”', 'å»¿å…­', 'å»¿ä¸ƒ', 'å»¿å…«', 'å»¿ä¹', 'ä¸‰å'];
                
                const lunarMonthIndex = (month + 5) % 12;
                const lunarDayIndex = (day - 1) % 30;
                return `${lunarMonths[lunarMonthIndex]}${lunarDays[lunarDayIndex]}`;
            }
            
            function getZodiacSign(month, day) {
                const signs = [
                    { name: 'æ‘©ç¾¯åº§', start: { month: 1, day: 1 }, end: { month: 1, day: 19 } },
                    { name: 'æ°´ç“¶åº§', start: { month: 1, day: 20 }, end: { month: 2, day: 18 } },
                    { name: 'åŒé±¼åº§', start: { month: 2, day: 19 }, end: { month: 3, day: 20 } },
                    { name: 'ç™½ç¾Šåº§', start: { month: 3, day: 21 }, end: { month: 4, day: 19 } },
                    { name: 'é‡‘ç‰›åº§', start: { month: 4, day: 20 }, end: { month: 5, day: 20 } },
                    { name: 'åŒå­åº§', start: { month: 5, day: 21 }, end: { month: 6, day: 21 } },
                    { name: 'å·¨èŸ¹åº§', start: { month: 6, day: 22 }, end: { month: 7, day: 22 } },
                    { name: 'ç‹®å­åº§', start: { month: 7, day: 23 }, end: { month: 8, day: 22 } },
                    { name: 'å¤„å¥³åº§', start: { month: 8, day: 23 }, end: { month: 9, day: 22 } },
                    { name: 'å¤©ç§¤åº§', start: { month: 9, day: 23 }, end: { month: 10, day: 23 } },
                    { name: 'å¤©èåº§', start: { month: 10, day: 24 }, end: { month: 11, day: 22 } },
                    { name: 'å°„æ‰‹åº§', start: { month: 11, day: 23 }, end: { month: 12, day: 21 } },
                    { name: 'æ‘©ç¾¯åº§', start: { month: 12, day: 22 }, end: { month: 12, day: 31 } }
                ];
                
                for (let sign of signs) {
                    if ((month === sign.start.month && day >= sign.start.day) ||
                        (month === sign.end.month && day <= sign.end.day)) {
                        return sign.name;
                    }
                }
                return 'æœªçŸ¥';
            }
            
            function generateEventsForDate(month, day, weekday) {
                const events = [];
                if (weekday === 'ä¸€') events.push('æ¯å‘¨ä¾‹ä¼š');
                if (day === 1) events.push('æœˆåˆè®¡åˆ’');
                if (day === 15) events.push('æœˆä¸­æ£€æŸ¥ç‚¹');
                if (day === 28) events.push('æœˆæœ«æ€»ç»“');
                
                const randomEvents = ['é¡¹ç›®ä¼šè®®', 'å›¢é˜Ÿå»ºè®¾', 'å®¢æˆ·æ‹œè®¿', 'äº§å“å‘å¸ƒ'];
                const seed = month * 100 + day;
                events.push(randomEvents[seed % randomEvents.length]);
                
                return events.join(' | ') || 'æ— å®‰æ’äº‹ä»¶';
            }
            
            function getImportantDateInfo(month, day, dayOfYear) {
                const importantDates = [
                    { name: 'å…ƒæ—¦', month: 1, day: 1, dayOfYear: 1 },
                    { name: 'æ˜¥èŠ‚', month: 2, day: 10, dayOfYear: 41 },
                    { name: 'æ¸…æ˜èŠ‚', month: 4, day: 4, dayOfYear: 94 },
                    { name: 'åŠ³åŠ¨èŠ‚', month: 5, day: 1, dayOfYear: 121 },
                    { name: 'ç«¯åˆèŠ‚', month: 6, day: 8, dayOfYear: 159 },
                    { name: 'ä¸­ç§‹èŠ‚', month: 9, day: 29, dayOfYear: 272 },
                    { name: 'å›½åº†èŠ‚', month: 10, day: 1, dayOfYear: 274 },
                    { name: 'åœ£è¯èŠ‚', month: 12, day: 25, dayOfYear: 359 }
                ];
                
                for (let date of importantDates) {
                    if (date.month === month && date.day === day) {
                        return `ä»Šå¤©æ˜¯${date.name}`;
                    }
                }
                
                let closestDate = null;
                let minDiff = Infinity;
                for (let date of importantDates) {
                    const diff = Math.abs(date.dayOfYear - dayOfYear);
                    if (diff < minDiff) {
                        minDiff = diff;
                        closestDate = date;
                    }
                }
                
                if (closestDate) {
                    return closestDate.dayOfYear > dayOfYear 
                        ? `è·ç¦»${closestDate.name}è¿˜æœ‰${closestDate.dayOfYear - dayOfYear}å¤©`
                        : `${closestDate.name}å·²è¿‡å»${dayOfYear - closestDate.dayOfYear}å¤©`;
                }
                return '';
            }
            
            function getDayDescription(month, day) {
                const descriptions = [
                    "æ–°çš„ä¸€å¤©å¼€å§‹äº†ï¼Œå……æ»¡æ— é™å¯èƒ½",
                    "å†å²ä¸Šçš„ä»Šå¤©å‘ç”Ÿäº†è®¸å¤šé‡è¦äº‹ä»¶",
                    "è¿™æ˜¯è§„åˆ’æœªæ¥çš„å¥½æ—¶æœº",
                    "é€‚åˆåæ€å’Œæ€»ç»“çš„æ—¥å­",
                    "åˆ›æ„å’Œçµæ„Ÿå¯èƒ½ä¼šåœ¨ä»Šå¤©æ¶Œç°"
                ];
                return descriptions[(month + day) % descriptions.length];
            }
            
            // ç”Ÿæˆå›¾ç‰‡åº“
            function generateImageGallery(month, day, dayOfYear) {
                const galleryImages = [];
                const imageTypes = ['gallery', 'event', 'memory'];
                
                // ç”Ÿæˆ3å¼ å°å›¾ç‰‡
                for (let i = 0; i < 3; i++) {
                    const imagePath = `images/${imageTypes[i]}-${dayOfYear}-${i + 1}.jpg`;
                    galleryImages.push(`
                        <img src="${imagePath}" 
                             onerror="this.src='https://picsum.photos/80/60?random=${dayOfYear}${i}'" 
                             class="gallery-image" 
                             alt="å›¾ç‰‡${i + 1}" 
                             title="ç‚¹å‡»æŸ¥çœ‹å¤§å›¾"
                             onclick="showImageModal('${imagePath.replace('-${i + 1}', '')}')">
                    `);
                }
                
                return galleryImages.join('');
            }
            
            // æ˜¾ç¤ºå›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡†
            function showImageModal(imagePath) {
                // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨æ¨¡æ€æ¡†
                let modal = document.getElementById('imageModal');
                if (!modal) {
                    // åˆ›å»ºæ¨¡æ€æ¡†
                    modal = document.createElement('div');
                    modal.id = 'imageModal';
                    modal.innerHTML = `
                        <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; justify-content: center; align-items: center;">
                            <div style="position: relative; max-width: 90%; max-height: 90%;">
                                <img id="modalImage" style="width: 100%; height: auto; border-radius: 10px;" src="" alt="å¤§å›¾">
                                <button onclick="closeImageModal()" style="position: absolute; top: -40px; right: 0; background: none; border: none; color: white; font-size: 30px; cursor: pointer;">&times;</button>
                            </div>
                        </div>
                    `;
                    document.body.appendChild(modal);
                }
                
                // è®¾ç½®å›¾ç‰‡æºå¹¶æ˜¾ç¤º
                const modalImage = document.getElementById('modalImage');
                modalImage.onerror = function() {
                    this.src = 'https://picsum.photos/600/400?random=' + Math.random();
                };
                modalImage.src = imagePath;
                modal.style.display = 'flex';
            }
            
            // å…³é—­å›¾ç‰‡æ¨¡æ€æ¡†
            function closeImageModal() {
                const modal = document.getElementById('imageModal');
                if (modal) {
                    modal.style.display = 'none';
                }
            }
            
            // æ»šåŠ¨åˆ°æŒ‡å®šæ—¥æœŸ
            function scrollToDay(dayIndex) {
                timeAxisWrapper.scrollTo({
                    left: dayIndex * DAY_WIDTH - timeAxisWrapper.clientWidth / 2,
                    behavior: 'smooth'
                });
            }
            

            
            // äº‹ä»¶ç›‘å¬
            todayBtn.addEventListener('click', function() {
                selectDay(0);
            });
            
            prevDayBtn.addEventListener('click', function() {
                const newDay = Math.max(0, selectedDay - 1);
                selectDay(newDay);
            });
            
            nextDayBtn.addEventListener('click', function() {
                const newDay = Math.min(DAYS_IN_YEAR - 1, selectedDay + 1);
                selectDay(newDay);
            });
            
            zoomInBtn.addEventListener('click', function() {
                if (zoomLevel < 2) {
                    zoomLevel += 0.2;
                    timeAxis.style.transform = `scaleX(${zoomLevel})`;
                }
            });
            
            zoomOutBtn.addEventListener('click', function() {
                if (zoomLevel > 0.5) {
                    zoomLevel -= 0.2;
                    timeAxis.style.transform = `scaleX(${zoomLevel})`;
                }
            });
            
            // é˜²æŠ–å‡½æ•°
            function debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }
            

            
            // æ‹–åŠ¨åŠŸèƒ½
            let isDragging = false;
            let startX, scrollLeft;
            
            timeAxisWrapper.addEventListener('mousedown', function(e) {
                isDragging = true;
                startX = e.pageX - timeAxisWrapper.offsetLeft;
                scrollLeft = timeAxisWrapper.scrollLeft;
                timeAxisWrapper.style.cursor = 'grabbing';
            });
            
            timeAxisWrapper.addEventListener('mouseleave', function() {
                isDragging = false;
                timeAxisWrapper.style.cursor = 'grab';
            });
            
            timeAxisWrapper.addEventListener('mouseup', function() {
                isDragging = false;
                timeAxisWrapper.style.cursor = 'grab';
            });
            
            timeAxisWrapper.addEventListener('mousemove', function(e) {
                if (!isDragging) return;
                e.preventDefault();
                const x = e.pageX - timeAxisWrapper.offsetLeft;
                const walk = (x - startX) * 1.5;
                timeAxisWrapper.scrollLeft = scrollLeft - walk;
            });
            
            // åˆå§‹åŒ–
            initTimeline();
        });
    </script>
</body>
</html>
